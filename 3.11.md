#!/bin/guile -l
!#

(define (make-account balance)
  (define (withdraw amount)
    (if (>= balance amount)
      (begin (set! balance (- balance amount))
             balance)
      "Insufficient funds"))
  (define (deposit amount)
    (set! balance (+ balance amount))
    balance)
  (define (dispatch m)
    (cond ((eq? m 'withdraw) withdraw)
          ((eq? m 'deposit) deposit)
          (else
            (error "Unknown request: MAKE-ACCOUNT"
                   m))))
  dispatch)

Show the environment structure generated by the sequence of interactions

(define acc (make-account 50))

((acc 'deposit) 40)
90

((acc 'withdraw) 60)
30

Where is the local state for acc kept? Suppose we deÔ¨Åne another account:
(define acc2 (make-account 100))

How are the local states for the two accounts kept distinct?  Which parts of the
environment structure are shared between acc and acc2 ?

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

* Evaluting the defintion:
        We bind make-account in the global enviorment to the procedure object
        with balance as a parameter, and a pointer to the global enviorment.

* Evaluating (define acc (make-account 50))
        We create a new enviorment E1 that points to the global envriorment with
        the parameter balance bound to 50, and then we evalute the body:
        
